# IP 주소란?
> Internet Protocol 주소의 줄임말로 네트워크에서 장치를 식별하고 장치 간 통신할 수 있도록 각 장치에 부여된 고유한 주소로써 IPv4와 IPv6 두 가지 버전이 존재한다.

## IPv4
> 10진수 숫자로 8비트씩 4개의 옥텟으로 이루어져 총 32비트로 이루어져 있는 숫자이며 점(.)으로 구분된다. 예를 들면 192.169.1.0이 IPv4의 예이다.

- IP 주소는 서브넷 마스크를 이용하여 네트워크 주소와 호스트 주소로 나뉨
	- **네트워크 주소**: 호스트들을 모은 네트워크를 지칭하는 주소
	- **호스트 주소**: 하나의 네트워크 내에 존재하는 호스트를 구분하기 위한 주소
	- 예를 들어, `192.168.1.0/24`에서 `192.168.1`이 네트워크 주소를 나타내고 마지막 0 부분이 호스트 주소를 나타낸다. `192.168.1.1`, `192.168.1.2`, `192.168.1.3` 이런 식으로 네트워크 내부의 호스트를 구분한다.
### IPv4 주소 할당 방식
IPv4 주소 할당 방식은 클래스풀(Classful)방식과 클래스리스(CIDR) 방식이 있다.
#### 클래스풀 방식(Classful)
> IPv4 주소를 네트워크 영역과 호스트 영역으로 나눈 것으로 A, B, C, D, E 클래스로 나뉘며 각각 네트워크 영역과 호스트 영역의 수가 다르다.


A, B, C 클래스는 일반적인 IP 주소를 할당하기 위한 클래스이고 D 클래스는 멀티캐스트 용도로 사용하고 E 클래스는 브로드캐스트 용도로 사용한다. A, B, C 클래스가 중요하므로 세 클래스에 집중해서 설명하겠다.

![Pasted image 20241006201040](https://github.com/user-attachments/assets/a65fb993-2685-4c30-8ae6-dbd82756a506)

##### A 클래스
0으로 시작하는 IP 주소를 의미하고 1.0.0 ~ 127.0.0.0 범위위 주소를 가질 수 있다.
하지만 127.0.0.0의 경우 자신을 의미하는 루프팩 주소로 사용되므로 실제 사용 가능한 범위는 1.0.0.0 ~ 126.255.255.255이다.(localhost 주소로 127.0.0.1을 사용하는 것을 생각하면 된다.)
네트워크 영역은 1개의 옥텟(2^8), 호스트 영역은 24개의 옥텟(2^24)을 갖는다.

![{7D9ED00E-9E36-44C1-8A28-DFF57D161423}](https://github.com/user-attachments/assets/493af1d7-e7d3-43ec-ba3a-451758ef8d69)
사용 가능한 공인 IP와 사설 IP 범위는 아래와 같다.
![{B5170226-3CC7-4B74-8B2D-6B8FF6051D70}](https://github.com/user-attachments/assets/82ffa950-12d4-49c8-a14d-9b0d437b13ae)

##### B 클래스
10으로 시작하는 IP 주소를 의미하고 범위는 128.0.0.0 ~ 191.255.0.0 범위의 주소를 가질 수 있다.
네트워크 영역은 2개의 옥텟(2^16), 호스트 영역도 2개의 옥텟(2^16)을 갖는다. 
![{A24B1205-E89B-47A0-94EE-7F72F34477E9}](https://github.com/user-attachments/assets/d425de8e-b4da-4e51-9d28-d8639c415c32)


사용 가능한 공인 IP와 사설 IP 범위는 아래와 같다.
![{79F6FC5C-E3B3-4822-A945-9F21EA114CF7}](https://github.com/user-attachments/assets/d8836268-27c0-47ac-9a6a-2a8663529585)

##### C 클래스
110으로 시작하는 IP 주소를 의미하고 범위는 192.0.0.0 ~ 223.255.255.0 범위의 주소를 가질 수 있다.
네트워크 영역은 3개의 옥텟(2^24), 호스트 영역은 1개의 옥텟(2^8)을 갖는다. 
![{43519816-2853-4CCF-9039-1D4DADC43384}](https://github.com/user-attachments/assets/68ede76b-b93a-4f36-9dbb-e870959f60fb)

일반적인 가정에서 사용하는 방식이다.
사용 가능한 공인 IP와 사설 IP의 범위는 아래 사진과 같다.
![{AB5BE429-A188-4FB6-BE7F-08B55BAFA770}](https://github.com/user-attachments/assets/4e418288-183d-4560-a6a1-71f9d3e7ae6a)



#### 클래스리스 방식(CIDR)
> 클래스풀 방식의 주소 낭비 문제를 해결하기 위해 생겨난 주소 체계로써 클래스 없이 IP 주소를 할당하는 방식이다.

기존의 클래스풀 방식은 서브넷 마스크가 없더라도 맨 앞자리 숫자만 보고도 클래스를 구분할 수 있었다. 하지만 이 방식으로 IP 주소를 할당 받으면 낭비되는 IP 주소가 너무 많고 IPv4 주소의 고갈로 새로운 방식이 필요했다. 이를 해결하기 위해 나온 방식이 클래스리스(CIDR) 방식이다.

- 서브넷 마스크를 이용하여 네트워크 영역과 호스트 영역을 구분하는 방식이다. 이 방식을 이용하면 클래스가 없이도 IP를 할당할 수 있다. 
- 클래스풀 방식과 달리 네트워크 영역과 클래스 영역을 1bit 단위까지 구분이 가능하여 호스트 주소를 보다 더 유연하게 할당할 수 있는 장점이 있다.

##### 서브넷 
> IP 주소 공간을 더 작은 네트워크로 분할하는 기술

예를 들어 A 클래스에서 브로드캐스트 패킷을 전송한다면 호스트에 연결된 모든 IP로 패킷이 전송되어 네트워크가 혼잡해질 것이다. 이러한 문제를 해결하기 위해 네트워크를 분할하는 방법이 있다. 이를 서브네팅이라 하고 분할된 네트워크를 서브넷이라 한다.
서브네팅을 진행하면 아래와 같이 된다. 
![{C460578B-0B26-42DB-83FF-F17D742AC593}](https://github.com/user-attachments/assets/3a879c16-a340-4de8-8e5c-93e8a03db5cf)
서브넷은 호스트 영역에서 빌려 만든다.
##### 서브넷 마스크 
> IP 주소에서 네트워크 영역과 호스트 영역을 구분하기 위해 사용되는 값

서브넷 주소에서 1이 연속적으로 채워진 부분이 네트워크 영역이고 0이 채워진 부분은 호스트 영역을 의미한다.
![Pasted image 20241006205912](https://github.com/user-attachments/assets/7216bbc6-1c8e-4f87-8325-4de22dd4f30f)

- 서브넷 마스크 예시
	- `192.168.1.0/24`의 IP 주소에서 24가 서브넷 마스크를 의미하며 앞 24비트가 네트워크 영역이라는 의미이다.

결국 CIDR 방식은 클래스를 구분하지 않고 서브넷 마스크를 이용하여 더 효율적으로 IP 주소를 할당하는 방식인 것이다. 
![Pasted image 20241006210143](https://github.com/user-attachments/assets/66de2ab3-7db6-45ce-9d1c-2852a9721237)

## IPv6
> IPv4의 주소 고갈 문제를 해결하기 위해 나온 프로토콜로써 16비트씩 8부분의 16진수로 이루어져 총 128비트로 이루어져 있는 거의 무한대에 가까운 주소 개수를 갖는 프로토콜이다. 예를 들면 2001:0db8:85a3:0000:0000:8a2e:0370:7334가 IPv6의 예이다.

## DHCP (Dynamic Host Configuration Protocol)
> 네트워크에 연결된 장치들에게 동적으로 IP주소를 분배 및 관리를 하는 프로토콜

네트워크 장치가 인터넷에 접속할 때마다 자동으로 IP 주소를 할당하는 방식으로써 라우터와 게이트웨이 장비에서 주로 사용한다.

## NAT - 공인 IP 주소, 사설 IP 주소 
> 사설 IP 주소에서 공인 IP 주소 또는 공인 IP 주소에서 사설 IP 주소로  변환해주는 기술

NAT을 사용하면 IPv4의 주소 고갈 문제와 보안에서 장점이 존재한다. 
#### 공인, 사설 IP 주소
- IPv4의 한정적인 주소 개수로 인해 근래에는 공인 IP 주소와 사설 IP 주소 방식을 사용한다.
- 내부 네트워크는 하나의 공인 IP 주소를 사용하고 내부 네트워크의 다양한 장치들은 사설 IP 주소를 사용한다. 
- [자세한 설명 - 맨 아래 부분](https://github.com/TUK-CS-Study/TUK-CS-Study/blob/master/Network/%5B%ED%98%95%EC%A4%80%5D%202.%20OSI%207%EA%B3%84%EC%B8%B5%EA%B3%BC%20TCP%20IP%204%EA%B3%84%EC%B8%B5.md)

