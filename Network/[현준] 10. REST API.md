### ğŸ“¢ REST APIì˜ í•„ìš”ì„±

ì›¹ ì„œë¹„ìŠ¤ë¥¼ ì œì‘í•˜ëŠ”ë°, `Frontend`ì¸ `React`ì™€ ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ì£¼ê³  ë°›ì„ê¹Œ ê³ ë¯¼í–ˆë‹¤.

ê¸°ì¡´ì˜ JSPì—ì„œëŠ” ë‚´ì¥ê°ì²´ë¡œ ì „ë‹¬í•˜ëŠ” ì¥ì ì´ ìˆì§€ë§Œ, `React`ì—ì„œëŠ” ì–´ë–»ê²Œ í• ê¹Œ?

ì •í•´ì§„ ì•„í‚¤í…ì²˜ë¥¼ ì‚¬ìš©í•˜ë©´, `backend`ì—ì„œë„ `frontend`ì—ì„œë„ í¸í•˜ë‹¤.

ê°„ë‹¨í•œ ì˜ˆì‹œë¥¼ ë³´ì. <br>

![](https://velog.velcdn.com/images/guswns7451/post/ee01cddd-93e2-4455-83e5-20e36ceda5e9/image.png)



ì´ëŸ° ëŠë‚Œì¸ ê²ƒì´ë‹¤. ì‚¬ëŒê³¼ ì‚¬ëŒì‚¬ì´ì—ëŠ” ì—°ë½ ìˆ˜ë‹¨(ì¹´í†¡, ë©”ì¼)ì´ ìˆì§€ë§Œ,

`Frontend`ì™€ `Server` ì‚¬ì´ì— ì •ë³´ë¥¼ ìš”ì²­í•˜ê³  ì „ë‹¬í•˜ëŠ” ì•½ì†ì´ë¼ê³  ìƒê°í•˜ë©´ í¸í•  ê²ƒ ê°™ë‹¤.

<br>

### ğŸ¤” ê·¼ë° REST APIê°€ ë­”ë°?
> Representational State Transfer API

ìš°ë¦¬ëŠ” ì›¹ì—ì„œ HTTP í†µì‹ ì„ í•œë‹¤. 

RESTëŠ” ìì›ì˜ ì´ë¦„ìœ¼ë¡œ êµ¬ë¶„í•´ í•´ë‹¹ ìì›ì˜ ìƒíƒœë¥¼ ì£¼ê³  ë°›ëŠ” ëª¨ë“  ê²ƒì„ ì˜ë¯¸í•œë‹¤.

RESTëŠ” ìì›, í–‰ìœ„, í‘œí˜„ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ìˆë‹¤.
<br>

**1. ìì› : URI**
- ìì›ì€ ê³ ìœ  ì´ë¦„ì´ë¼ê³  ë³´ë©´ ë  ê²ƒ ê°™ë‹¤. 
 ex ) ê³ ê° â†’ user
<br>

**2. í–‰ìœ„ : HTTP Method**

Methodë¥¼ ì´ìš©í•˜ì—¬ CRUDì˜ ê¸°ëŠ¥ì„ êµ¬í˜„í•©ë‹ˆë‹¤.
- `GET` / `POST` / `PUT` / `DELETE` / `OPTION`
- [ì£¼ë¡œ ì‚¬ìš©] `GET` : ì •ë³´ ì¡°íšŒ / `POST` : ë¦¬ì†ŒìŠ¤ ìƒì„± 
<br>

**3. í‘œí˜„ : Representation of Resource**

- í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ì‚¬ì´ì— ì£¼ê³  ë°›ì„ ë•Œ ìì›ì˜ ìƒíƒœë¥¼ ì˜ë¯¸í•œë‹¤.
JSON, XML, TEXTë¡œ ì‚¬ìš©í•˜ê³¤ í•œë‹¤.
<br>

#### REST API ì„¤ê³„ ì›ì¹™

REST API ì„¤ê³„ ì‹œ ì¤‘ìš”í•œ ê²ƒì€ ëª…í™•í•´ì•¼í•œë‹¤.
- URIëŠ” ì •ë³´ì˜ ìì›ì„ ë‚˜íƒ€ë‚´ì•¼í•¨
- ìì›ì˜ í–‰ìœ„ëŠ” HTTP Method(`GET` `POST` `PUT` `DELETE` `OPTION`)ë¡œ ë‚˜íƒ€ë‚´ì•¼í•œë‹¤.
<br>

ì˜ˆë¥¼ ë“¤ì–´ë³´ì.

ë‚´ê°€ ê³ ê°ì˜ ì •ë³´ë¥¼ ì¡°íšŒí•˜ê³  ì‹¶ë‹¤í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ë‚˜íƒ€ë‚´ë©´ ëœë‹¤.

![](https://velog.velcdn.com/images/guswns7451/post/cd4ae910-8d72-4e33-a2cc-79615bce3e5f/image.png)

<br>

### URIì˜ ì„¤ê³„ ê·œì¹™
>#### 1. URIëŠ” ì†Œë¬¸ìë¡œë§Œ êµ¬ì„±í•œë‹¤.
ëŒ€ë¬¸ìëŠ” ë•Œë¡œ ë¬¸ì œë¥¼ ì¼ìœ¼í‚¤ëŠ” ê²½ìš°ê°€ ìˆì–´ ì†Œë¬¸ìë¥¼ ì„ í˜¸í•œë‹¤.

>#### 2. URIì—ëŠ” í–‰ìœ„ë¥¼ í¬í•¨í•˜ì§€ ì•ŠëŠ”ë‹¤.
URIëŠ” ëª…ì‚¬ë§Œ ì‚¬ìš©í•˜ë©°, í–‰ìœ„ëŠ” Methodë¡œ í‘œì‹œí•´ì•¼ í•œë‹¤.
`âŒ GET /getUser/:id`
`â­• GET /user/:id`

>#### 3. ì–¸ë”ë°”(_) ëŒ€ì‹  í•˜ì´í”ˆ(-)ì„ ì‚¬ìš©í•œë‹¤.
ì–¸ë”ë°”ëŠ” ê¸€ì í°íŠ¸ì— ë”°ë¼ ë¶€ë¶„ì ìœ¼ë¡œ ê°€ë ¤ì§€ê±°ë‚˜ ìˆ¨ê²¨ì§ˆ ìˆ˜ ìˆë‹¤.
ê°€ë…ì„±ì„ ìœ„í•´ ê¸´ ë‹¨ì–´ëŠ” í•˜ì´í”ˆìœ¼ë¡œ êµ¬ë¶„í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

>#### 4. ìŠ¬ë˜ì‹œ(/)ëŠ” ê³„ì¸µ ê´€ê³„ë¥¼ í‘œí˜„í•œë‹¤.
ìŠ¬ë˜ì‹œëŠ” URI ê²½ë¡œ ë¶€ë¶„ì—ì„œ ìì› ê°„ì˜ ê³„ì¸µì  ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.
<http://api.example.com/students/3> -> 3ë²ˆ í•™ìƒ

>#### 5. URIì˜ ë§ˆì§€ë§‰ ë¬¸ìë¡œ ìŠ¬ë˜ì‹œ(/)ë¥¼ í¬í•¨í•˜ì§€ ì•ŠëŠ”ë‹¤.
ë§ˆì§€ë§‰ ìŠ¬ë˜ì‹œëŠ” ì˜ë¯¸ê°€ ì—†ìœ¼ë‚˜ í˜¼ë€ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.
âŒ <http://api.example.com/students/>

>#### 6. íŒŒì¼ í™•ì¥ìëŠ” URIì— í¬í•¨ ì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤.
íŒŒì¼ í™•ì¥ìëŠ” URI ëŒ€ì‹  Content-Type í—¤ë”ë¥¼ í†µí•´ ì „ë‹¬ ë˜ëŠ”ëŒ€ë¡œ ë¯¸ë””ì–´ íƒ€ì…ì„ ì‚¬ìš©í•˜ì—¬ body ì½˜í…ì¸ ë¥¼ ì²˜ë¦¬í•˜ì—¬ì•¼ í•œë‹¤.
Accept Headerë¥¼ í†µí•´ ì‘ë‹µìœ¼ë¡œ ë°›ê³  ì‹¶ì€ ë¯¸ë””ì–´ íƒ€ì…ì„ ëª…ì‹œí•œë‹¤.
âŒ <http://api.example.com/sutdents/photo.jpg>
	
>#### 7. URIì—ì„œ ì˜ì–´ëŠ” ë³µìˆ˜í˜•ìœ¼ë¡œ ì‘ì„±í•œë‹¤.
ë³µìˆ˜í˜•ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì‹¤ë¬´ì—ì„œ ë§ì´ ì‚¬ìš©ë˜ê³  ìˆë‹¤.

<br>

### ğŸ¤” ê·¸ëŸ¼ ì„¤ê³„ë¥¼ ì–´ì¼€í•¨?
ì—¬ê¸°ì„œëŠ” ë‚´ê°€ ê²½í—˜í–ˆë˜ `[ê°€ê²Œ ì• ì›¨ì´íŒ… ë“±ë¡ ì‹œìŠ¤í…œ]` í”„ë¡œì íŠ¸ë¥¼ í† ëŒ€ë¡œ ì´ì•¼ê¸° í•´ë³´ê² ë‹¤.
![](https://velog.velcdn.com/images/guswns7451/post/ae40f7f9-8bf2-45ea-9578-0d8e0ac30a88/image.png)

#### 1. êµ¬í˜„í•  ê¸°ëŠ¥ ì •ë¦¬
êµ¬í˜„í•  ê¸°ëŠ¥ë“¤ì„ ì •ë¦¬í•´ë‘ëŠ” ê²ƒì´ ì¢‹ë‹¤. ë‚˜ì˜ ê²½ìš° Notionì—ì„œ ê¸°ëŠ¥ ëª…ì„¸ì„œë¥¼ ì‘ì„±í–ˆë‹¤.

![](https://velog.velcdn.com/images/guswns7451/post/79cc320f-70a9-4c99-b97a-a7bcff4d458b/image.png)ê¸°ëŠ¥ ë³„ë¡œ ì„¤ëª…ì´ë‚˜, ì•¡í„°(ì‚¬ìš©ì), ê¸°ëŠ¥í•  êµ¬í˜„ë“¤ì„ ê°„ë‹¨í•˜ê²Œë¼ë„ ì •ë¦¬í•˜ëŠ” ê²Œ ì¢‹ë‹¤. 

ì´ë ‡ê²Œ ì •ë¦¬í•´ ë‘ê³  `Frontend` ê°œë°œìì™€ `Backend` ê°œë°œì ì„œë¡œ ë³´ë©´ì„œ ê°ì ê°œë°œí•  ë‚´ìš©ì„ ì„œë¡œ ê³µìœ í•œë‹¤.

ë…¼ì˜ í•œ í›„ì— êµ¬í˜„í•  ê¸°ëŠ¥ì„ í™•ì •í•œë‹¤.

<br>

#### 2. API ëª…ì„¸ì„œ ì‘ì„±í•˜ê¸°

ì •ë¦¬í•´ë‘” ê¸°ëŠ¥ì„ í† ëŒ€ë¡œ API ëª…ì„¸ì„œë¥¼ ì‘ì„±í•œë‹¤. 

ìœ„ì— ë‚˜ì™”ë˜ `HTTP Method` + `URI` ë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤. 
![](https://velog.velcdn.com/images/guswns7451/post/ae3a5313-daf6-45db-85b9-c78b6169f881/image.png)

ë…¸ì…˜ í…œí”Œë¦¿ì€ ì¸í„°ë„·ì— ê³µìœ ë˜ì–´ ìˆì—ˆë‹¤. 

[API ëª…ì„¸ì„œ]("https://www.notion.so/minz-126/34fccde5486b4c568f1148e54542795d?v=f960503aaea1484b8637bc33db2ff509&pvs=4")

<br>

#### 3. ìƒì„¸ API ì„¤ê³„í•˜ê¸°
REST APIëŠ” Frontendì™€ Backend ì‚¬ì´ì— ìš”ì²­ì„ ì£¼ê³  ë°›ê¸° ìœ„í•œ ìˆ˜ë‹¨ì´ë¯€ë¡œ, 

`FrontEnd` ê°œë°œìë“¤ì€ ì´ ë¬¸ì„œë¥¼ ë³´ê³  ì„œë²„ì— ì •ë³´ë¥¼ ìš”ì²­í•œë‹¤.

ê·¸ëŸ¬ë‹ˆ ì„¤ëª…, ìš”ì²­ ì˜ˆì‹œ, ìš”ì²­ ì‹œ ë‹´ì•„ì•¼í•  ë°ì´í„°, ì‘ë‹µ ì˜ˆì‹œ ë“±ì„ ì‘ì„±í•´ë‘ë©´ ì¢‹ë‹¤.

ì•„ë˜ëŠ” `JSON` í˜•íƒœë¡œ ì „ë‹¬í•˜ëŠ” API í˜•íƒœì´ë‹¤. 

ìƒíƒœì— ë§ëŠ” ì—¬ëŸ¬ ì½”ë“œë„ ì „ë‹¬í•´ì•¼ í•˜ëŠ”ë°, ì½”ë“œ ë²ˆí˜¸ëŠ” [HTTP ìƒíƒœ ì½”ë“œ ì‚¬ì´íŠ¸](https://developer.mozilla.org/ko/docs/Web/HTTP/Status) ì—ì„œ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤.
ì ì ˆí•œ ìƒí™©ì— ë§ê²Œ ì½”ë“œë„ ì „ë‹¬í•´ë³´ì.

`ë¡œê·¸ì¸ ê¸°ëŠ¥ API ë¬¸ì„œ`

| ì„¤ëª… & ìš”ì²­ ì˜ˆì‹œ | ì‘ë‹µ ì˜ˆì‹œ | ì‘ë‹µ ì˜ˆì‹œ |
| :-: | :-: | :-: |
| ![](https://velog.velcdn.com/images/guswns7451/post/21387576-9e0a-448e-a51c-f03d12562155/image.png) | ![](https://velog.velcdn.com/images/guswns7451/post/d0b057bb-5cca-4a75-a471-082e4eabd6fb/image.png) | ![](https://velog.velcdn.com/images/guswns7451/post/5aa90a68-b1b1-46ac-86d0-e3759c88545a/image.png) |


<br>

### ğŸï¸ í™˜ê²½
>- ì–¸ì–´ : `Java `
- Framework : `Spring Boot`
- IDE : `IntelliJ`
- Test : `POSTMAN`
- HTTP í†µì‹  : `json` í˜•íƒœ

<br>

### í”„ë¡œì íŠ¸ ì„¤ëª…
ì˜¤ëŠ˜ ì‚´í´ë³¼ í”„ë¡œì íŠ¸ëŠ” `[ê°€ê²Œ ì• ì›¨ì´íŒ… ë“±ë¡ ì‹œìŠ¤í…œ]` í”„ë¡œì íŠ¸ì´ë‹¤.
![](https://velog.velcdn.com/images/guswns7451/post/8c2794ce-2004-4aa2-b49e-cdbd1c836906/image.png)

ì´ í”„ë¡œì íŠ¸ëŠ” MVC íŒ¨í„´ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, DB FrameworkëŠ” `MyBatis`ë¡œ ë˜ì–´ ìˆë‹¤.

ì˜ˆì‹œë¥¼ ë“¤ APIëŠ” ì‚¬ì¥ë‹˜ì˜ ê³ ìœ  ë²ˆí˜¸ë¡œ í…Œì´ë¸”ì˜ ìƒíƒœë¥¼ ì²´í¬í•˜ëŠ” APIë¥¼ ë§Œë“¤ì–´ ë³¼ ì˜ˆì •ì´ë‹¤.

<br>

### í…Œì´ë¸” ì¡°íšŒ API ì•Œì•„ë³´ê¸°
REST APIë¥¼ ì„¤ê³„í•´ë³´ì. ì„¤ê³„í•œ í›„ì—, í•˜ë‚˜ì”© ê°œë°œí•´ë³´ì. 


<br>

í˜„ì¬ëŠ” ì‚¬ì¥ë‹˜ ê³ ìœ  ë²ˆí˜¸ (4)ë²ˆì„ `GET` ë°©ì‹ì¸ Query Stringìœ¼ë¡œ `memberNumber = 4`ë¡œ ì „ì†¡í•˜ëŠ” ëª¨ìŠµì´ë‹¤.

2ë²ˆ ì‚¬ì¥ë‹˜ì„ ì¡°íšŒí•˜ê³  ì‹¶ë‹¤ë©´, `http:localhost:8080/desk?memberNumber=2` ë¡œ í•˜ë©´ ë˜ê² ë‹¤.

~~ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œëŠ” JWTë¥¼ ì´ìš©í•œ ì‚¬ìš©ì ê²€ì¦ì„ í•˜ëŠ”ë°, ì—¬ê¸°ì„œëŠ” ê°„ë‹¨í•˜ê²Œ ì‘ì„±í•˜ê² ë‹¤.~~

![](https://velog.velcdn.com/images/guswns7451/post/367ecc15-f58a-4501-9be7-03b12727b8b3/image.png)



ì‘ë‹µ `Json`ì— ë‹¤ì–‘í•œ ë‚´ìš©ì„ ë„£ì„ ìˆ˜ ìˆì§€ë§Œ ë‚˜ëŠ” ë§¤ìš° ê°„ë‹¨í•˜ê²Œ 4ê°€ì§€ë§Œ ë„£ì—ˆë‹¤. 
<br>

- `code` : HTTP ìƒíƒœ code
- `httpStatus` : ì½”ë“œ ìƒíƒœì— ë”°ë¥¸ ë©”ì„¸ì§€

- `message` : í˜„ì¬ ì‘ë‹µ ë‚´ìš© ë©”ì„¸ì§€
- `data` : ì‹¤ì œ Clientì—ê²Œ ë°˜í™˜í•  ë°ì´í„°ë“¤ 

![](https://velog.velcdn.com/images/guswns7451/post/44635fc6-ca01-46fc-ae07-fa2105532b04/image.png)

![](https://velog.velcdn.com/images/guswns7451/post/9588b311-4767-4633-b948-59f9a3a213aa/image.png)


### ğŸ¥‡ Response ì½”ë“œ
Responseë¥¼ ì•„ë˜ì™€ ê°™ì´ ì„¸íŒ…í•˜ê¸° ìœ„í•´ì„œëŠ” í´ë˜ìŠ¤ë¡œ ìƒì„±í•´ ì¤€ë‹¤.
- `code` : HTTP ìƒíƒœ code
- `httpStatus` : ì½”ë“œ ìƒíƒœì— ë”°ë¥¸ ë©”ì„¸ì§€
- `message` : í˜„ì¬ ì‘ë‹µ ë‚´ìš© ë©”ì„¸ì§€

- `data` : ì‹¤ì œ Clientì—ê²Œ ë°˜í™˜í•  ë°ì´í„°ë“¤ 

ğŸ“‚ `project` > `src` > `main` > `java` > `packageëª…` > `DTO`

`RestResponse.java` ìƒì„±í•œë‹¤ 

![](https://velog.velcdn.com/images/guswns7451/post/36243677-b8f7-4d75-93a1-b8e08789e56d/image.png)

```java
package com.waiting.waitingnow.DTO;

import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;
import org.springframework.http.HttpStatus;

@Data
@Builder
@AllArgsConstructor
@NoArgsConstructor
public class RestResponse<T> {
    private Integer code;
    private HttpStatus httpStatus;
    private String message;
    private T data;
}

```

`lombok`ì´ ì—†ì–´ì„œ ì˜¤ë¥˜ ë‚œë‹¤ë©´, `bulid.gradle` ë˜ëŠ” `maven`ìœ¼ë¡œ ì¶”ê°€í•˜ì

>`bulid.gradle`
![](https://velog.velcdn.com/images/guswns7451/post/98c2e3a2-d044-4df4-814c-a1e13dd371be/image.png)
```
compileOnly 'org.projectlombok:lombok'
annotationProcessor 'org.projectlombok:lombok'
```

>`maven`
```
<!-- https://mvnrepository.com/artifact/org.projectlombok/lombok -->
<dependency>
    <groupId>org.projectlombok</groupId>
    <artifactId>lombok</artifactId>
    <version>1.18.30</version>
    <scope>provided</scope>
</dependency>
```

ê·¸ëŸ¼ ì´ì œ ê±°ì˜ ë‹¤ ëœê±°ë‚˜ ë§ˆì°¬ê°€ì§€ì´ë‹¤.

<br>

### ğŸ¥ˆ Desk ì¡°íšŒ API ì„¤ê³„

ğŸ“‚ `project` > `src` > `main` > `java` > `packageëª…` > `controller`

`DeskController.java`ë¥¼ ìƒì„±í•œë‹¤.

`DeskControlller`ì—ì„œëŠ” í´ë¼ì´ì–¸íŠ¸ì—ì„œ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ëŠ” ì½”ë“œê°€ ì‘ì„±ë˜ì–´ ìˆë‹¤.


![](https://velog.velcdn.com/images/guswns7451/post/f9e9c5f9-78f3-47a7-9269-c980d3d060ff/image.png)

Controllerì—ì„œëŠ” ë°ì´í„°ë§Œ ë„˜ê²¨ì£¼ëŠ” ì—­í• ë§Œ í•œë‹¤. ì‹¤ì œ ì¡°íšŒí•˜ëŠ” ë¡œì§ë“¤ì€ `service`ë‚˜ `DAO`ì— ì‘ì„±ë˜ì–´ ìˆëŠ”ë°, ì´ ë¶€ë¶„ì€ ê°ì ì½”ë”©í•´ì•¼í•œë‹¤.


![](https://velog.velcdn.com/images/guswns7451/post/6d542af6-6433-495e-855c-d2c6648f95b5/image.png)

#### DeskController

```java

package com.waiting.waitingnow.controller;

import com.waiting.waitingnow.DTO.RestResponse;
import com.waiting.waitingnow.service.DeskService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;

import java.util.List;

@RestController
public class DeskController {

    private final DeskService deskService;
    RestResponse<Object> restResponse = new RestResponse<>();

    @Autowired
    public DeskController(DeskService deskService) {
        this.deskService = deskService;
    }

    /**
     * Desk ì¡°íšŒí•˜ëŠ” API
     *
     * @param memberNumber
     * @return
     * @throws Exception
     */
    @ResponseBody
    @RequestMapping(value = {"/desk"}, method = RequestMethod.GET)
    public ResponseEntity deskSearch(@RequestParam("member-number") int memberNumber) throws Exception {
        System.out.println("[desk ì¡°íšŒ] memberNumber : " + memberNumber);
        
        try {
            List<SendDeskVO> desks = deskService.selectByMember(memberNumber);
            restResponse = RestResponse.builder()
                    .code(HttpStatus.OK.value())
                    .httpStatus(HttpStatus.OK)
                    .message(memberNumber + "ì˜ desk ì¡°íšŒ")
                    .data(desks)
                    .build();
            return new ResponseEntity<>(restResponse, restResponse.getHttpStatus());
        }
        
        // ì¼ì¹˜í•˜ëŠ” ì „í™”ë²ˆí˜¸ê°€ ì—†ì„ ë•Œ, NullpointerException ë°œìƒ
        catch (NullPointerException e) {
            restResponse = RestResponse.builder()
                    .code(HttpStatus.NOT_FOUND.value())
                    .httpStatus(HttpStatus.NOT_FOUND)
                    .message(e.getMessage())
                    .build();
            return new ResponseEntity<>(restResponse, restResponse.getHttpStatus());
        }
    }

}

```

<br>
ì½”ë“œë¥¼ êµ¬ê°„ì„ ë‚˜ëˆ„ì–´ ì„¤ëª… í•˜ê² ë‹¤.


<br>

##### DeskController [1] : ì˜ì¡´ì„± ì£¼ì…
```java
@RestController //RestController ì–´ë…¸í…Œì´ì…˜ ì‚¬ìš©
public class DeskController {

	//ìš°ë¦¬ê°€ ìœ„ì—ì„œ ë§Œë“  ì‘ë‹µ í˜•íƒœ (code, httpStatus, message, data)
    RestResponse<Object> restResponse = new RestResponse<>();

	// ì˜ì¡´ì„± ì£¼ì… ë°©ì‹ : ìƒì„±ì ì£¼ì… ë°©ì‹
	private final DeskService deskService;
	
    @Autowired
    public DeskController(DeskService deskService) {
        this.deskService = deskService;
    }
```

ìš°ë¦¬ê°€ ì œì‘í•œ `restResponse`ë¥¼ importí•˜ì—¬ ì‚¬ìš©í•œë‹¤. 

<br>

##### DeskController [2] : HTTP URI ì„¤ì •, íŒŒë¼ë¯¸í„°

```java
@ResponseBody
@RequestMapping(value = {"/desk"}, method = RequestMethod.GET) // API URIì™€ ë©”ì†Œë“œë¥¼ ì§€ì •
public ResponseEntity deskSearch(@RequestParam("member-number") int memberNumber) throws Exception {
        System.out.println("[desk ì¡°íšŒ] memberNumber : " + memberNumber);
 ```
 
 ë§Œì•½ POST ë°©ì‹ì´ë¼ë©´ `method = RequestMethod.POST`ë¡œ í•˜ë©´ ëœë‹¤.

ë°˜í™˜ íƒ€ì…ì€ ResponseEntityë¡œ `jsoní˜•íƒœ`ë¡œ ë°˜í™˜ í•  ê²ƒì´ë‹¤.

`@RequestParam("member-number") int memberNumber` ëŠ” `Param`ìœ¼ë¡œ ì£¼ì–´ì§„ ê°’ì´ `memberNumber`ì— ì €ì¥ëœë‹¤.

í˜„ì¬ ìš”ì²­ URIê°€ `localhost:8080/desk?member-number=4` ì¸ë°, ê·¸ëŸ¬ë©´ ìë™ìœ¼ë¡œ `memberNumber ë³€ìˆ˜`ì— 4ê°€ í• ë‹¹ëœë‹¤.

>- Param ì‚¬ìš© (ì£¼ë¡œ GET ë°©ì‹) : @RequestParam
- Body ì‚¬ìš© (ì£¼ë¡œ POST ë°©ì‹) : @RequestBody
- Header ì‚¬ìš© : @RequestHeader

<br>

##### DeskController [3] : HTTP í†µì‹ 

```java
try {
	List<SendDeskVO> desks = deskService.selectByMember(memberNumber);
    restResponse = RestResponse.builder()
            .code(HttpStatus.OK.value())
            .httpStatus(HttpStatus.OK)
            .message(memberNumber + "ì˜ desk ì¡°íšŒ")
            .data(desks)
            .build();
     return new ResponseEntity<>(restResponse, restResponse.getHttpStatus());
 }
```

`deskService.selectByMember`ë¥¼ í˜¸ì¶œí•˜ë©´ íšŒì› ë²ˆí˜¸ì— ë”°ë¥¸ ì •ë³´ë“¤ì„ ë°˜í™˜ ë°›ê²Œ ëœë‹¤.

- `SelectByMember` : ë³¸ì¸ì´ ì›í•˜ëŠ” ë¡œì§ì„ ì‘ì„±í•˜ë©´ ëœë‹¤. 
![](https://velog.velcdn.com/images/guswns7451/post/0bf78895-cf40-4c73-83af-1c87f5a499a1/image.png)


ì´ë•Œ ì¼ì¹˜í•˜ì§€ ì•Šì€ íšŒì› ì •ë³´ë¼ë©´  `deskService.selectByMember` ì—ì„œ `NullPointerException`ì„ ë°˜í™˜í•œë‹¤. â†’ 4ë²ˆìœ¼ë¡œ ì´ë™ 

`.code`ëŠ” HTTP ìƒíƒœ ì½”ë“œì´ë¯€ë¡œ, 
`200`ì´ë©´ `HttpStatus.OK.value()`ì´ê³  
`404`ë¼ë©´ `HttpStatus.NOT_FOUND.value()`ì´ë‹¤.

ì¡°íšŒí•œ ë°ì´í„°ë¥¼ `.data(desks)` ì— ë‹´ì•„ ë°˜í™˜í•œë‹¤.

<br>

##### DeskController [4] : ì˜ˆì™¸ì²˜ë¦¬

```java
// ì¼ì¹˜í•˜ëŠ” íšŒì›ë²ˆí˜¸ê°€ ì—†ì„ ë•Œ, NullpointerException ë°œìƒ
catch (NullPointerException e) {
     restResponse = RestResponse.builder()
          .code(HttpStatus.NOT_FOUND.value())
          .httpStatus(HttpStatus.NOT_FOUND)
          .message(e.getMessage())
          .build();
      return new ResponseEntity<>(restResponse, restResponse.getHttpStatus());
}
```
<br>

### ğŸ¥‰ í…ŒìŠ¤íŠ¸!

í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ì„œëŠ” POSTMANì„ ì‚¬ìš©í•˜ë©´ ì¢‹ë‹¤.

ì‚¬ìš©ë²•ì€ êµ¬ê¸€ì— ê²€ìƒ‰í•´ë³´ì!~ [Postman ì‚¬ìš©ë²•](https://sw-test.tistory.com/45)

ì„œë²„ë¥¼ ë¨¼ì € ì‹¤í–‰ì‹œí‚¤ê³  

![](https://velog.velcdn.com/images/guswns7451/post/ab96330e-1f32-4df2-bf37-6cfdd71815b0/image.png)


POSTMANìœ¼ë¡œ ë³´ë‚´ë³´ì. `GET` ë°©ì‹ìœ¼ë¡œ íŒŒë¼ë¯¸í„°ë¥¼ ë„£ì–´ì„œ ë³´ëƒˆë‹¤

![](https://velog.velcdn.com/images/guswns7451/post/d6b8bdb1-039e-430d-9389-f2a9e1021889/image.png)

ì‘ë‹µì„ ë³´ë‹ˆ, ìƒê° í–ˆë˜ ëŒ€ë¡œ ì˜ ì™”ë‹¤.

![](https://velog.velcdn.com/images/guswns7451/post/09e8662e-2536-4535-949c-65bf7f7048e8/image.png)


ì•„ë˜ëŠ” ì—†ëŠ” íšŒì›ë²ˆí˜¸ë¡œ ìš”ì²­ì„ ë³´ëƒˆë”ë‹ˆ ì´ê²ƒë„ ì˜ 404ë¥¼ ë„ì›Œì£¼ì—ˆë‹¤.
![](https://velog.velcdn.com/images/guswns7451/post/2178b7a2-aa04-4949-88da-fb4d0ac6a593/image.png)


í˜¹ì‹œë‚˜ `POST`ë°©ì‹ìœ¼ë¡œ ë³´ë‚¼ë•ŒëŠ” Bodyì— ë„£ì–´ ë³´ë‚´ë©´ ëœë‹¤.

`Body` > `raw` > `JSON` ì— ë„£ê³  ì‹¶ì€ ê°’ë“¤ ë„£ì–´ì„œ ë³´ë‚´ë©´ ëœë‹¤.

![](https://velog.velcdn.com/images/guswns7451/post/bc9c4569-b7d3-4e9c-9336-120b17a4eb6d/image.png)



**ì°¸ê³ **
- [Spring ì˜ˆì œì™€ í•¨ê»˜ REST API ì•Œì•„ë³´ì](https://velog.io/@yewo2nn16/Spring-%EC%98%88%EC%A0%9C%EC%99%80-%ED%95%A8%EA%BB%98-REST-API-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90)