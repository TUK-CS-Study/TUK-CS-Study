### 라우팅
> 서로 다른 IP 네트워크 간  최적의 경로(최단 시간, 최단 거리)로 패킷을 전달하는 프로세스로써 라우터를 이용하여 수행한다.

- OSI 7계층의 네트워크 계층에서 이루어 지는 프로세스([OSI 7계층](https://github.com/TUK-CS-Study/TUK-CS-Study/blob/master/Network/%5B%ED%98%95%EC%A4%80%5D%202.%20OSI%207%EA%B3%84%EC%B8%B5%EA%B3%BC%20TCP%20IP%204%EA%B3%84%EC%B8%B5.md)])
![Pasted image 20241005224856](https://github.com/user-attachments/assets/2289caae-8697-4a03-a21a-0a55037b77b9)
### 라우터
> 서로 다른 네트워크 사이에서 최적의 경로를 찾아 패킷를 넘겨주는 역할을 하는 장치이다.

#### 라우터의 기능
- 최적의 경로 설정
	여러 정보를 이용하여 최단 시간, 최단 경로로 최적의 경로를 설정
- 스위칭
	결정된 최적의 경로로 패킷을 넘겨주는 것

#### 라우터가 참조하는 정보
- 토폴로지
	![Pasted image 20241005225618](https://github.com/user-attachments/assets/0f9f7948-aed7-40cf-8233-89790f95f1c8)
	[1. 네트워크 기초 - 토폴로지](https://github.com/TUK-CS-Study/TUK-CS-Study/blob/master/Network/%5B%ED%98%95%EC%A4%80%5D%201.%20%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC%20%EA%B8%B0%EC%B4%88.md)
- 트래픽
	특정 라우터에 트래픽이 몰려있을 경우 다른 라우터를 이용
- 링크 비용
	목적지까지 가기 위해 거쳐가야 하는 홉(노드), 비용, 지연, 처리율 등과 같은 변수들
- 메시지
	라우터 간에 라우팅을 위해 주고 받는 정보
- 라우팅 테이블
	패킷을 목적지로 전달하기 위해 참조하는 테이블

## 라우팅 프로토콜 종류
라우팅 알고리즘을 이용한 라우팅 프로토콜로 최적의 경로를 찾는다.
라우팅 프로토콜은 크게 정적 라우팅과 동적 라우팅으로 나뉜다. 
![Pasted image 20240723160700](https://github.com/user-attachments/assets/6888b97a-cbf4-4be0-85f0-688e9c6c7345)
- **라우팅 알고리즘**
	- **거리 벡터 알고리즘(Distance Vector 알고리즘)**
		- **인접 라우터와 정보 공유**하여 목적지까지 거리 방향 결정
		- **벨만 포드** 알고리즘 사용
		- 라우터 업데이트 할 때마다 전체 라우팅 테이블 보내라고 요청 But **수신된 경로 비용 정보는 이웃 라우터에게만 보내짐**
	- **링크 상태 알고리즘(Link-State 알고리즘)**
		- 링크 상태 정보를 **모든 라우터에 전달**하여 최단 트리 경로 구성
		- **다익스트라** 알고리즘 사용
		- 네트워크 일관성 있게 파악 가능
		- 거리 벡터에 비해 **계산 복잡**하고 트래픽 광범위하게 전달

### 정적 라우팅(Static Routing)
> 네트워크 관리자가 직접 경로를 지정하는 방식

- 구성 간단
- 단일 경로에 적합하여 Stub Network에 주로 사용(<-> 동적 라우팅)
	Stub Network: 길이 하나밖에 없는 구간
- 네트워크 구성 변화에 수동적
- 관리 부담이 크고 경로 장애 발생시 라우팅이 불가능한 단점 존재
### 동적 라우팅(Dynamic Routing)
> 장비가 자동으로 경로를 지정하는 방식 

- 네트워크 변화를 인지하여 경로를 재구성할 수 있음
- 다중 경로 네트워크에 적합(<-> 정적 라우팅)
- 동적 라우팅 방식은 내부 라우팅 프로토콜과 외부 라우팅 프로토콜로 나뉜다.

#### IGP(내부 라우팅 프로토콜)
동일 AS 내의 라우터 간 라우팅 정보를 교환되는 프로토콜

- **거리 벡터 알고리즘(Distance Vector 알고리즘)** 사용
	- **인접 라우터와 정보 공유**하여 목적지까지 거리 방향 결정
	- **벨만 포드** 알고리즘 사용
	- 라우터 업데이트 할 때마다 전체 라우팅 테이블 보내라고 요청하지만 **수신된 경로 비용 정보는 이웃 라우터에게만 보내짐**

- **RIP**
	- AS 내에서 사용하는 거리 벡터 알고리즘 기반 프로토콜
	- **벨만 포드** 알고리즘 사용
	- 최대 홉 **15홉으로 제한**
	- UDP 사용(포트 520)
	- 30초마다 **브로드캐스팅**으로 정보 공유
- **OSPF**
	- 규모 크고 복잡한 TCP/IP에서 RIP 단점 개선하기 위해 Link-State 알고리즘 적용한 프로토콜
	- **다익스트라** 알고리즘 사용
	- 관리자가 라우팅 메트릭 지정
	- AS 분할 사용: AS를 지역으로 나누어 라우팅 관리
	- **홉 카운트 제한X(무제한)**
	- **멀티캐스팅** 지원
#### EGP(외부 라우팅 프로토콜)
서로 다른 AS의 라우터 간 라우팅 정보를 교환하는 프로토콜

- **링크 상태 알고리즘(Link-State 알고리즘)** 사용
	- 링크 상태 정보를 **모든 라우터에 전달**하여 최단 트리 경로 구성
	- **다익스트라** 알고리즘 사용
	- 네트워크 일관성 있게 파악 가능
	- 거리 벡터에 비해 **계산 복잡**하고 트래픽 광범위하게 전달

- **BGP**
	- AS 상호 간 정보 교환하는 프로토콜
	- **경로 벡터 알고리즘** 사용
	- TCP 연결(포트 179)
	- ISP 사업자 상호 간 주로 사용
	- 순환 피할 수 있게 경로 정보 제공
	- 라우팅 비용 ↑, 라우팅 테이블 크기 커서 메모리 사용량 ↑

즉, 정적 라우팅은 정해진 경로로만 가는 방식이고 동적 라우팅은 변수가 생길 시 새로운 경로를 탐색하여 다양한 경로로 갈 수 있는 방식이다.

