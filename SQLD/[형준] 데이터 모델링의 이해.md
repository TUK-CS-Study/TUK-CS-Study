# 데이터 모델링이란?
> 현실 세계에 존재하는 데이터를 데이터베이스로 단순화하여 표현하는 기법

## 모델링 3단계
- 개념적 모델링
  - 사람이 이해할 수 있도록 현실 세계를 개념적 모델링하여 데이터베이스의 개념적 구조로 표현하는 도구
  - 추상화 레벨 가장 높음
- 논리적 모델링
  - 개념적 구조를 논리적으로 모델링하여 데이터베이스의 논리적 구조로 표현하는 도구
  - 정규화를 진행하는 단계
- 물리적 모델링
  - 실제 DB를 구현할 수있도록 성능, 가용성 등 물리적 요소를 고려하는 단계

![alt text](./[형준]%20Image/image-1.png)

## 데이터 모델링 특징 및 목적
### 특징
- 추상화
  - 현실 세계의 개념을 일정한 형식으로 간략하게 표현
- 단순화
  - 현실 세계를 정해진 표기법으로 핵심에 집중하여 불필요한 부분을 제거하여 단순하고 쉽게 표현
- 명확화
  - 불분명함(애매모호함)을 제거하고, 정확하게 현상을 기술

### 목적
- 단순 DB, 시스템 구축만이 아닌 업무 설명, 분석, 형상화의 목적도 있음
- 분석된 모델로 실제 DB를 생성하고 개발 및 데이터 관리에 사용 

## 데이터 모델링 유의점
- 중복(Duplication)
  - 같은 데이터가 엔티티에 중복 저장되면 안됨
- 비유연성(Inflexibility)
  - 애플리케이션의 사소한 변경에도 데이터 모델리 수시로 변경되면 안됨
  - 데이터 모델과 프로세스를 분리하여 유연성을 높여야 함
- 비일관성(Inconsistency)
  - 중복이 없는 경우에도 비일관성 발생 가능성 있음
    - 데이터 간의 연관 관계에 대해 명확하게 정의해야 함

## 데이터 모델링 3가지 관점 및 중요 3요소
### 3가지 관점
- 데이터 관점 (What, Data)
  - 어떤 데이터들이 업무와 
- 프로세스 관점 (How, Process)
  - 
- 데이터와 프로세스의 상관 관점 (Data vs Process, Intercation)
  - 
### 3요소
- 대상(Things) - 엔티티
  - 사각형
- 속성(Attribute)
  - 타원
- 관계(Relationships)
  - 마름모 

![alt text](./[형준]%20Image/image.png)

# 스키마
> 테이블이 어떠한 구성으로 되어 있는지, 어떤 정보를 갖고 있는지에 대한 기본적엔 테이블 구조를 정의한 것

## 데이터 스키마의 구조
-사진(3장)
### 외부 스키마
각 사용자가 보는 스키마 정의 및 표현

### 개념 스키마
모든 사용자가 보는 데이터 정의 및 표현
관계를 정의하는 단계

### 내부 스키마
물리적인 저장 구조를 나타내는 단계

## 독립성
-사진(3장)
### 논리적 독립성
개념 스키마가 변경 되어도 외부 스키마에는 영향을 주지 않음

### 물리적 독립성
내부 스키마가 변경 되어도 개념/외부 스키마에는 영향을 주지 않음

# 엔티티(사각형)
서로 다른 상황(단계)에서 사용될 뿐 사실상 같은 의미이다.

- 엔티티
  - 개념적 설계 단계
  - DB 설계 단계
  - 엔티티, 속성, 관계을 도형으로 표현하는 단계에서 사용
- 릴레이션
  - 논리적 설계 단계
  - 테이블 형태로 볼 때 사용
- 테이블
  - 물리적 설계 단계
  - DBMS로 구현되는 단계에서 사용

즉, 엔티티 -> 릴레이션 -> 테이블 순서대로 구체화된 것이다.

# 엔티티(개체)
> 다른 개체와 구별되는 이름을 가지고 있고, 각 개체만의 고유한 특성이나 상태, 즉속성을하나 이상 가지고 있음

## 엔티티의 특징
- 업무에서 쓰이는 정보여야 함
- 식별자가 있어야 함
- 2개 이상의 인스턴스 가져야 함
- 반드시 2개 이상의 속성 가져야 함
  - 하나의 인스턴스는 최소 2개 이상의 속성 가짐
- 다른 엔티티와 1개 이상의 관계가 있어야 함

## 엔티티 분류 방법과 종류
### 유형, 무형에 따른 분류
- 유형 엔티티
  - 물리적인 형태가 존재
    - ex. 상품, 회원 등
- 개념 엔티티
  - 형태가 없음
  - ex. 부서, 학과
- 사건 엔티티
  - 행위에 의해 발생하는 것
  - ex. 주문, 이벤트 응모 등

### 발생 시점에 따른 분류
- 기본 엔티티
  - 원래 존재하는 요소로써 독립적이고 자식 엔티티를 가질 수 있음
- 중심 엔티티
  - 모델링 대상의 업무 과정 중 하나로써 기본 엔티티로부터 파생되고 행위 엔티티를 생성함
- 행위 엔티티
  - 2개 이상의 엔티티로부터 파생된 엔티티

### 엔티티 명명 주의점
- 업무에서 실제 쓰이는 용어 사용
- 한글 약어 사용X, 영어 대문자로 표시
- 단수 명사로 표현X, 띄어쓰기X
- 의미상 중복X(주문, 결제 엔티티는 중복 가능)
- 명확하게 표현

# 속성(타원)
> 엔티티 특징을 나타내는 최소 데이터 단위

테이블에서 열을 의미함

## 속성 특징
  - 더 이상 쪼개지지 않는 레벨
  - 업무에서 필요로 하는 항목
  - 엔티티를 설명하고, 인스턴스를 설명함
  - 하나의 속성은 하나의 속성 값만 가짐
    - 여러 속성 값을 갖는다면 1차 정규화
  - 일반 속성은 정해진 주식별자에 함수성 종속성읒 갖는다.
    - 완전 함수적 종속이 아닌 부분 종속이면 2차 정규화

## 속성 특징에 따른 분류
### 일반적 특성에 따른 분류
- 기본 속성
  - 업무 프로세스 분석을 통해 바로 정의 가능한 속성
- 설계 속성
  - 고유함을 보전하기 위한 속성(PK의 토대)
- 파생 속성
  - 데이터의 빠른 조회를 위해 원래 속성값을 계산하여 저장하는 속성
  - ex. 평균, 재고 등

### 구성 방식에 따른 분류
- PK 속성(기본기)
  - 인스턴스를 유니크하게 하여 구별할 수 있게 하는 속성
- FK 속성(외래키)
  - 다른 엔티티에서 가져온 속성

### 속성의 분해 가능 여부에 따른 분류
- 단일 속성
  - 속성이 하나의 의미
- 복합 속성
  - 속성이 여러 개의 의미
  - ex. 주소: 시 + 구 + 동
- 다중값 속성
  - 속성이 여러개의 값을 가짐
  - 1차 정규화를 하거나 별도 엔티티를 생성해야 함

### 속성이 만들어낸 데이터 모델의 개념
- 도메인
  - 속성이 가질 수 있는 속성 값의 범위
  - ex. CHAR, INT 등
    
- 용어 사전
  - 속성의 이름을 정확하고 직관적으로 부여하기 위한 용어 사전
- 시스템 카탈로그
  - 시스템 자체에 관련 있는 데이터를 가진 DB
  - 시스템 테이블로 구성되어 있고 SQL로 조회 가능
  - 여기에는 메타 데이터가 저장되어 SELECT만 가능하고 INSERT나 DELETE 등 데이터를 바꿀 수 없음

# 관계(마름모)
> 엔티티와 엔티티 사이의 속성끼리의 연결에 의해 만들어지는 상관 관계

## 관계의 종류
### 일반 종류
- 존재 관계
  - 존재로서 갖는 관계
- 행위 관계
  - 행위에 의해 갖는 관계

### UML의 클래스 다이어그램에 의해 나뉘는 종류
- 연관 관계(실선)
  - 필수적 관계
  - 항상 서로 이용하는 관계
- 의존 관계(점선)
  - 선택적 관계
  - 상대 클래스 행위에 따라 이용하는 관계

- 수업 엔티티에 참여 엔티티와 과제 엔티티가 관계되어 있을 때
  - 수업이 있을 때마다 참여 엔티티가 관계에 성립되어 필수적인 관계이므로 연관 관계
  - 수업이 있어도 과제가 있어야만 관계가 성립되어 선택적 관계이므로 의존 관계

# 식별자
> 각각의 인스턴스를 구분 가능하게 만들어주는 대표 속성(PK)

> ### 주 식별자(PK)란?
> 인스턴스를 구분하게 해주는 속성
> - 유일성: 인스턴스를 유일하게 구분할 수 있게 해줌
> - 최소성: 최소한의 속성들로만 유일성을 보장해줌
> - 불변성: 값이 변하지 않음
> - 존재성: 속성값이 NULL이 되어서는 안됨

## 대표성 여부에 따른 분류
### 주 식별자(PK)
유일성, 최소성, 불변성, 존재성 모두 만족

### 보조 식별자
인스턴스 식별은 가능하지만 대표하는 식별자는 아닌 식별자
ex. 회원 엔티티의 회원번호, 회원명, 아이디 중 아이디는 중복이 불가능하기 때문에 인스턴스 구분이 가능하다. 하지만 회원 엔티티를 대표할 수 있는 속성(회원번호)은 아니기 때문에 보조 식별자이다.

## 스스로 생성 되었는가에 따른 분류
### 내부 식별자
다른 엔티티 참조 없이 해당 엔티티 내부에서 스스로 생성된 식별자

### 외부 식별자(FK)
다른 엔티티에서 온 식별자

## 단일 속성인지에 따른 분류
### 단일 식별자
주 식별자가 1개의 속성으로만 구성

### 복합 식별자
주 식별자가 2개 이상의 속성으로 구성
ex. 회원 엔티티의 이름, 번호 두 속성으로 주 식별자를 구성

## 대체되었는지 기존에 있었는지에 따른 분류
### 원조(본질) 식별자
가공되지 않고 업무에 의해 만들어진 식별자

### 인조(대리) 식별자
주 식별자가 복잡할 때 이를 통합하여 사용하는 인위적으로 만들어진 식별자
ex. 회원 번호, 주문 일자, 순번 세 속성을 주 식별자로 사용하다가 주문번호라는 단일 속성을 만들어서 주 식별자로 사용한다면 주문번호는 인조 식별자이다.

- 인조(대리) 식별자의 단점
  - 중복 데이터 발생 가능
    - 데이터 품질 저하
  - 불필요한 인덱스 생성
    - 저장 공간 낭비 및 DML 성능 저하
  - 개발 편의성이 줄어들 수 있음

## 식별자 관계
### 주 식별자(실선 - 필수적 연결)
부모의 주 식별자를 상속받아 자식의 주 식별자로 사용
- 강한 연결 관계
- 항상 부모-자식 관계가 유지됨
- SQL 조인문 최소화

### 비식별자 관계(점선 - 선택적 연결)
부모 속성을 자식의 일반 속성으로 사용
- 약한 연결 관계
- 부모-자식 관계가 유지 안될 수도 있음